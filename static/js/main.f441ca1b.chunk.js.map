{"version":3,"sources":["images/header_logo.svg","components/Header.js","components/Login.js","components/Register.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/ConfirmPopup.js","components/InfoTooltip.js","utils/api.js","images/Success.svg","images/Error.svg","components/ProtectedRoute.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","logo","alt","loggedIn","exact","path","email","onClick","onLogout","to","Login","React","useState","setEmail","password","setPassword","onSubmit","evt","preventDefault","onLogin","type","name","placeholder","required","onChange","target","value","Register","onRegister","CurrentUserContext","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onCardDelete","aria-label","onCardClick","link","onCardLike","length","Main","onEditAvatar","avatar","about","onEditProfile","onAddPlace","cards","map","Footer","PopupWithForm","isOpen","onClose","title","noValidate","children","buttonText","EditProfilePopup","setName","description","setDescription","useEffect","isLoading","onUpdateUser","id","minLength","maxLength","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","ref","AddPlacePopup","place","setPlace","setLink","ImagePopup","ConfirmPopup","onConfirm","InfoTooltip","image","api","options","this","baseUrl","headers","fetch","then","res","_getResponse","method","body","JSON","stringify","cardId","data","ok","json","Promise","reject","status","authorization","ProtectedRoute","Component","component","BASE_URL","getResponse","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","isInfoTooltipOpen","setInfoTooltipOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsLoading","removedCard","setRemovedCard","setLoggedIn","setStatus","infoTooltipImage","setInfoTooltipImage","history","useHistory","handleTokenCheck","useCallback","token","jwt","localStorage","getItem","push","catch","err","console","log","closeAllPopups","handleEscClose","key","handleOverlayClose","classList","contains","all","getUserData","getInitialCards","values","userData","initialCards","document","addEventListener","removeEventListener","Provider","removeItem","auth","setItem","errorImage","successImage","changeLikeCardStatus","newCard","newCards","c","editUserData","changeUserAvatar","postNewCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f441ca1b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header_logo.8724261e.svg\";","import React from 'react';\r\nimport logo from '../images/header_logo.svg';\r\nimport { Route, Link } from 'react-router-dom';\r\n\r\nexport default function Header(props) {\r\n    return (\r\n        <header className=\"header page__header\">\r\n            <img className=\"header__logo\" src={logo} alt=\"Лого Mesto\" />\r\n            {\r\n                props.loggedIn && (\r\n                    <Route exact path=\"/\">\r\n                        <div className=\"header__container\">\r\n                            <p className=\"header__email\">{props.email}</p>\r\n                            <Link\r\n                                className=\"header__sign-out\"\r\n                                onClick={props.onLogout}\r\n                                to=\"/sign-in\">Выйти\r\n                            </Link>\r\n                        </div>\r\n                    </Route>\r\n                )\r\n            }\r\n            <Route path=\"/sign-in\">\r\n                <Link\r\n                    className=\"header__link\"\r\n                    to=\"/sign-up\">Регистрация\r\n                </Link>\r\n            </Route>\r\n            <Route path=\"/sign-up\">\r\n                <Link\r\n                    className=\"header__link\"\r\n                    to=\"/sign-in\">Войти\r\n                </Link>\r\n            </Route>\r\n        </header>\r\n    );\r\n}","import React from 'react';\r\n\r\nexport default function Login(props) {\r\n    const [ email, setEmail ] = React.useState('');\r\n    const [ password, setPassword ] = React.useState('');\r\n\r\n    function handleChangeEmail(evt) {\r\n        setEmail(evt.target.value);\r\n    }\r\n\r\n    function handleChangePassword(evt) {\r\n        setPassword(evt.target.value);\r\n    }\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        props.onLogin({ email, password });\r\n    }\r\n    return (\r\n        <section className=\"auth page__auth\">\r\n            <h2 className=\"auth__title\">Вход</h2>\r\n            <form\r\n                className=\"auth__form\"\r\n                onSubmit={handleSubmit}>\r\n                <input\r\n                    className=\"auth__input auth__input_type_email\"\r\n                    type=\"email\"\r\n                    name=\"emailInput\"\r\n                    placeholder=\"Email\"\r\n                    required\r\n                    onChange={handleChangeEmail}\r\n                    value={email}\r\n                />\r\n                <input\r\n                    className=\"auth__input auth__input_type_password\"\r\n                    type=\"password\"\r\n                    name=\"passwordInput\"\r\n                    placeholder=\"Пароль\"\r\n                    required\r\n                    onChange={handleChangePassword}\r\n                    value={password}\r\n                />\r\n                <button\r\n                    className=\"auth__submit-button\"\r\n                    type=\"submit\">Войти</button>\r\n            </form>\r\n        </section>\r\n    );\r\n}","import React from 'react';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default function Register(props) {\r\n    const [ email, setEmail ] = React.useState('');\r\n    const [ password, setPassword ] = React.useState('');\r\n\r\n    function handleChangeEmail(evt) {\r\n        setEmail(evt.target.value);\r\n    }\r\n\r\n    function handleChangePassword(evt) {\r\n        setPassword(evt.target.value);\r\n    }\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        props.onRegister({ email, password });\r\n    }\r\n\r\n    return (\r\n        <section className=\"auth page__auth\">\r\n            <h2 className=\"auth__title\">Регистрация</h2>\r\n            <form\r\n                className=\"auth__form\"\r\n                onSubmit={handleSubmit}>\r\n                <input\r\n                    className=\"auth__input auth__input_type_email\"\r\n                    type=\"email\"\r\n                    name=\"emailInput\"\r\n                    placeholder=\"Email\"\r\n                    required\r\n                    onChange={handleChangeEmail}\r\n                    value={email}\r\n                />\r\n                <input\r\n                    className=\"auth__input auth__input_type_password\"\r\n                    type=\"password\"\r\n                    name=\"passwordInput\"\r\n                    placeholder=\"Пароль\"\r\n                    required\r\n                    onChange={handleChangePassword}\r\n                    value={password}\r\n                />\r\n                <button\r\n                    className=\"auth__submit-button\"\r\n                    type=\"submit\">Зарегистрироваться</button>\r\n            </form>\r\n            <Link\r\n                className=\"auth__link\"\r\n                to=\"/sign-in\" >Уже зарегистрированы? Войти\r\n            </Link>\r\n        </section>\r\n    )\r\n}","import React from \"react\"\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nexport default function Card(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `card__delete-button ${isOwn ? '' : 'card__delete-button_disabled'}`\r\n    );\r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = (\r\n        `card__like-button ${isLiked ? 'card__like-button_active' : ''}`\r\n    );\r\n\r\n    function handleCardClick() {\r\n        props.onCardClick(props.card);\r\n    }\r\n    \r\n    function handleLikeClick () {\r\n        props.onCardLike(props.card);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props.card);\r\n    }\r\n\r\n    return (\r\n        <li\r\n            className=\"card\">\r\n            <button\r\n                className={cardDeleteButtonClassName}\r\n                onClick={handleDeleteClick}\r\n            />\r\n            <button\r\n                className=\"card__open-photo-button\"\r\n                type=\"button\"\r\n                aria-label=\"Открыть\"\r\n                onClick={handleCardClick}>\r\n                <img\r\n                    className=\"card__photo\"\r\n                    src={props.link}\r\n                    alt={props.name}\r\n                />\r\n            </button>\r\n            <div\r\n                className=\"card__description\">\r\n                <h2\r\n                    className=\"card__title\">{props.name}\r\n                </h2>\r\n                <div\r\n                    className=\"card__like-container\">\r\n                    <button\r\n                        className={cardLikeButtonClassName}\r\n                        type=\"button\"\r\n                        aria-label=\"Нравится\"\r\n                        onClick={handleLikeClick}\r\n                    />\r\n                    <p\r\n                        className=\"card__like-counter\">{props.likes.length}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    );\r\n}","import React from \"react\";\r\nimport Card from \"./Card.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\n\r\nexport default function Main(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"content page__content\">\r\n            <section className=\"profile content__profile\">\r\n                <button\r\n                    className=\"profile__avatar-button\"\r\n                    type=\"button\"\r\n                    onClick={props.onEditAvatar}>\r\n                    <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"аватар\" />\r\n                </button>\r\n                <div className=\"profile__info\">\r\n                    <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                    <p className=\"profile__about\">{currentUser.about}</p>\r\n                    <button\r\n                        className=\"profile__edit-button\"\r\n                        type=\"button\"\r\n                        aria-label=\"Редактировать\"\r\n                        onClick={props.onEditProfile}\r\n                    />\r\n                </div>\r\n                <button\r\n                    className=\"profile__add-button\"\r\n                    type=\"button\"\r\n                    aria-label=\"Добавить\"\r\n                    onClick={props.onAddPlace}\r\n                />\r\n            </section>\r\n\r\n            <section className=\"cards content__cards\">\r\n                <ul className=\"cards__list\">\r\n                    {\r\n                        props.cards.map((card) => (\r\n                            <Card\r\n                                key={card._id}\r\n                                card={card}\r\n                                name={card.name}\r\n                                link={card.link}\r\n                                likes={card.likes}\r\n                                onCardClick={props.onCardClick}\r\n                                onCardLike={props.onCardLike}\r\n                                onCardDelete={props.onCardDelete}\r\n                            />\r\n                            )\r\n                        )\r\n                    }\r\n                </ul>\r\n            </section>\r\n        </main>\r\n    );\r\n}","import React from 'react';\r\n\r\nexport default function Footer(props) {\r\n    return (\r\n        <footer className=\"footer page__footer\">\r\n            {props.loggedIn && <p className=\"footer__copyright\">© 2021 Mesto Russia</p>}\r\n        </footer>\r\n    );\r\n}","import React from 'react';\r\n\r\nexport default function PopupWithForm(props) {\r\n    return (\r\n        <div\r\n            className={`popup page__popup popup_type_${props.name} ${props.isOpen && \"popup_opened\"}`}>\r\n            <div\r\n                className=\"popup__container\">\r\n                <button\r\n                    className=\"popup__close-button\"\r\n                    type=\"button\"\r\n                    aria-label=\"Закрыть\"\r\n                    onClick={props.onClose}\r\n                />\r\n                <h2 className=\"popup__title\">{props.title}</h2>\r\n                <form\r\n                    className=\"popup__form\"\r\n                    name={props.name}\r\n                    noValidate\r\n                    onSubmit={props.onSubmit}>\r\n                    {props.children}\r\n                    <button\r\n                        className=\"popup__save-button\"\r\n                        type=\"submit\">{props.buttonText}\r\n                    </button>\r\n                </form>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\"\r\n\r\nexport default function EditProfilePopup(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [ name, setName ] = React.useState('');\r\n    const [ description, setDescription ] = React.useState('');\r\n\r\n\r\n    React.useEffect(() => {\r\n        if (currentUser.name || currentUser.description) {\r\n            setName(currentUser.name);\r\n            setDescription(currentUser.about);\r\n        }\r\n    }, [currentUser]);\r\n\r\n    function handleChangeName(evt) {\r\n        setName(evt.target.value);\r\n    }\r\n\r\n    function handleChangeDescription(evt) {\r\n        setDescription(evt.target.value);\r\n    }\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"edit-profile\"\r\n            title=\"Редактировать профиль\"\r\n            buttonText={props.isLoading ? \"Сохранение...\" : \"Сохранить\"}\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            children={\r\n                <>\r\n                    <input\r\n                        className=\"popup__input popup__input_type_name\"\r\n                        id=\"name-input\"\r\n                        type=\"text\"\r\n                        name=\"nameInput\"\r\n                        placeholder=\"Имя\"\r\n                        minLength=\"2\"\r\n                        maxLength=\"40\"\r\n                        required\r\n                        value={name}\r\n                        onChange={handleChangeName}\r\n                    />\r\n                    <span\r\n                        className=\"popup__input-error\"\r\n                        id=\"name-input-error\"\r\n                    />\r\n                    <input\r\n                        className=\"popup__input popup__input_type_about\"\r\n                        id=\"about-input\"\r\n                        type=\"text\"\r\n                        name=\"aboutInput\"\r\n                        placeholder=\"О себе\"\r\n                        minLength=\"2\"\r\n                        maxLength=\"200\"\r\n                        required\r\n                        value={description}\r\n                        onChange={handleChangeDescription}\r\n                    />\r\n                    <span\r\n                        className=\"popup__input-error\"\r\n                        id=\"about-input-error\"\r\n                    />\r\n                </>\r\n            }\r\n        />\r\n    )\r\n}","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nexport default function EditAvatarPopup(props) {\r\n    const avatarRef = React.useRef('');\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n         props.onUpdateAvatar({avatar: avatarRef.current.value});\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        if (!props.isOpen) {\r\n            avatarRef.current.value = '';\r\n\r\n        }\r\n    }, [props.isOpen]);\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"change-avatar\"\r\n            title=\"Обновить аватар\"\r\n            buttonText={props.isLoading ? \"Сохранение...\" : \"Сохранить\"}\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            children={\r\n                <>\r\n                    <input\r\n                        className=\"popup__input popup__input_type_link\"\r\n                        id=\"avatar-link-input\"\r\n                        type=\"url\"\r\n                        name=\"avatarLinkInput\"\r\n                        placeholder=\"Ссылка на картинку\"\r\n                        required\r\n                        ref={avatarRef}\r\n                    />\r\n                    <span\r\n                        className=\"popup__input-error\"\r\n                        id=\"avatar-link-input-error\"\r\n                    />\r\n                </>\r\n            }\r\n        />\r\n    )\r\n}","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function AddPlacePopup(props) {\r\n    const [ place, setPlace ] = React.useState('');\r\n    const [ link, setLink ] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        if (!props.isOpen) {\r\n            setPlace('');\r\n            setLink('');\r\n        }\r\n    }, [props.isOpen]);\r\n\r\n    function handleChangePlace(evt) {\r\n        setPlace(evt.target.value);\r\n    }\r\n\r\n    function handleChangeLink(evt) {\r\n        setLink(evt.target.value);\r\n    }\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        props.onAddPlace({ name: place, link })\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"add-card\"\r\n            title=\"Новое место\"\r\n            buttonText={props.isLoading ? \"Создание...\" : \"Создать\"}\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            children={\r\n                <>\r\n                    <input\r\n                        className=\"popup__input popup__input_type_place\"\r\n                        id=\"place-input\"\r\n                        type=\"text\"\r\n                        name=\"placeInput\"\r\n                        placeholder=\"Название\"\r\n                        minLength=\"2\"\r\n                        maxLength=\"30\"\r\n                        required\r\n                        onChange={handleChangePlace}\r\n                        value={place}\r\n                    />\r\n                    <span\r\n                        className=\"popup__input-error\"\r\n                        id=\"place-input-error\"\r\n                    />\r\n                    <input\r\n                        className=\"popup__input popup__input_type_link\"\r\n                        id=\"link-input\"\r\n                        type=\"url\"\r\n                        name=\"linkInput\"\r\n                        placeholder=\"Ссылка на картинку\"\r\n                        required\r\n                        onChange={handleChangeLink}\r\n                        value={link}\r\n                    />\r\n                    <span\r\n                        className=\"popup__input-error\"\r\n                        id=\"link-input-error\"\r\n                    />\r\n                </>\r\n            }\r\n        />\r\n    )\r\n}","import React from 'react';\r\n\r\nexport default function ImagePopup(props) {\r\n    return (\r\n        <div\r\n            className={`popup page__popup popup_type_view-image ${props.card.link && \"popup_opened\"}`}>\r\n            <figure\r\n                className=\"popup__image-container\">\r\n                <button\r\n                    className=\"popup__close-button popup__close-button_type_view-image\"\r\n                    type=\"button\"\r\n                    aria-label=\"Закрыть\"\r\n                    onClick={props.onClose}\r\n                />\r\n                <img\r\n                    className=\"popup__image\"\r\n                    src={props.card.link}\r\n                    alt={props.card.name}\r\n                />\r\n                <figcaption\r\n                    className=\"popup__image-title\">{props.card.name} </figcaption>\r\n            </figure>\r\n        </div>\r\n    );\r\n}","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nexport default function ConfirmPopup(props) {\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        props.onConfirm(props.card);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"confirm\"\r\n            title=\"Вы уверены?\"\r\n            buttonText={props.isLoading ? \"Удаление...\" : \"Да\"}\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n        />\r\n    )\r\n}","import React from 'react';\r\n\r\nexport default function InfoTooltip(props) {\r\n    return (\r\n        <div\r\n            className={`popup page__popup ${props.isOpen && \"popup_opened\"}`}>\r\n            <div\r\n                className=\"popup__container\">\r\n                <button\r\n                    className=\"popup__close-button\"\r\n                    type=\"button\"\r\n                    aria-label=\"Закрыть\"\r\n                    onClick={props.onClose}\r\n                />\r\n                <img\r\n                    className=\"popup__tooltip-image\"\r\n                    src={props.image}\r\n                    alt=\"Статус\"\r\n                />\r\n                <h2 className=\"popup__tooltip-title\">{props.title}</h2>\r\n            </div>\r\n        </div>\r\n    )\r\n}","class Api {\r\n    constructor(options) {\r\n        this.baseUrl = options.baseUrl;\r\n        this.headers = options.headers;\r\n    }\r\n\r\n    getUserData() {\r\n        return fetch(`${this.baseUrl}/users/me`, {\r\n            headers: this.headers\r\n        })\r\n            .then(res => this._getResponse(res))\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch (`${this.baseUrl}/cards`, {\r\n            headers: this.headers\r\n        })\r\n            .then(res => this._getResponse(res))\r\n    }\r\n\r\n    editUserData({ name, about }) {\r\n        return fetch(`${this.baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                about: about\r\n            })\r\n        })\r\n            .then(res => this._getResponse(res))\r\n    }\r\n\r\n    postNewCard({ name, link }) {\r\n        return fetch(`${this.baseUrl}/cards `, {\r\n            method: 'POST',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                link: link\r\n            })\r\n        })\r\n            .then(res => this._getResponse(res))\r\n    }\r\n\r\n    deleteCard(cardId) {\r\n        return fetch(`${this.baseUrl}/cards/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: this.headers,\r\n        })\r\n            .then(res => this._getResponse(res))\r\n    }\r\n\r\n    changeUserAvatar(data) {\r\n        return fetch(`${this.baseUrl}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                avatar: data.avatar\r\n            })\r\n        })\r\n            .then(res => this._getResponse(res))\r\n    }\r\n\r\n    _getResponse(res) {\r\n        if (res.ok) {\r\n            return(res.json());\r\n        }\r\n\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n\r\n    changeLikeCardStatus(cardId, isLiked) {\r\n        if (!isLiked) {\r\n            return fetch(`${this.baseUrl}/cards/likes/${cardId} `, {\r\n                method: 'PUT',\r\n                headers: this.headers\r\n            })\r\n                .then(res => this._getResponse(res));\r\n        } else {\r\n            return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\r\n                method: 'DELETE',\r\n                headers: this.headers\r\n            })\r\n                .then(res => this._getResponse(res));\r\n        }\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19',\r\n    headers: {\r\n        authorization: 'ee997593-23fa-4bcc-b338-c6e6a2cbbaea',\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\nexport default api","export default __webpack_public_path__ + \"static/media/Success.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/Error.d4ce2a26.svg\";","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n    return (\r\n        <Route>\r\n            {\r\n                () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\"/>\r\n            }\r\n        </Route>\r\n    )\r\n};\r\n\r\nexport default ProtectedRoute;","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nconst getResponse = (res) => {\r\n    if (res.ok) {\r\n        return(res.json());\r\n    }\r\n\r\n    return Promise.reject(res.status);\r\n};\r\n\r\nexport const register = ({ email, password }) => {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({ password, email })\r\n    })\r\n        .then(getResponse)\r\n};\r\n\r\nexport const login = ({ email, password }) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({ password, email })\r\n    })\r\n        .then(getResponse)\r\n};\r\n\r\nexport const checkToken = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\" : `Bearer ${token}`\r\n        }\r\n    })\r\n        .then(getResponse)\r\n};","import React from 'react';\r\nimport { Route, Switch, useHistory } from 'react-router-dom';\r\nimport Header from \"./Header.js\";\r\nimport Login from \"./Login\";\r\nimport Register from \"./Register\";\r\nimport Main from \"./Main.js\";\r\nimport Footer from \"./Footer.js\";\r\nimport EditProfilePopup from \"./EditProfilePopup.js\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\r\nimport AddPlacePopup from \"./AddPlacePopup.js\";\r\nimport ImagePopup from \"./ImagePopup.js\";\r\nimport ConfirmPopup from \"./ConfirmPopup.js\";\r\nimport InfoTooltip from \"./InfoTooltip\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\nimport api from \"../utils/api.js\";\r\nimport successImage from \"../images/Success.svg\";\r\nimport errorImage from \"../images/Error.svg\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport * as auth from \"../utils/auth.js\";\r\n\r\n\r\nfunction App() {\r\n    const [ isEditProfilePopupOpen, setIsEditProfilePopupOpen ] = React.useState(false);\r\n    const [ isAddPlacePopupOpen, setIsAddPlacePopupOpen ] = React.useState(false);\r\n    const [ isEditAvatarPopupOpen, setIsEditAvatarPopupOpen ] = React.useState(false);\r\n    const [ isConfirmPopupOpen, setIsConfirmPopupOpen ] = React.useState(false);\r\n    const [ isInfoTooltipOpen, setInfoTooltipOpen ] = React.useState(false);\r\n    const [ selectedCard, setSelectedCard ] = React.useState({});\r\n    const [ currentUser, setCurrentUser] = React.useState({});\r\n    const [ cards, setCards ] = React.useState([]);\r\n    const [ isLoading, setIsLoading ] = React.useState(false);\r\n    const [ removedCard, setRemovedCard ] = React.useState({});\r\n    const [ loggedIn, setLoggedIn ] = React.useState(false);\r\n    const [ status, setStatus ] = React.useState('');\r\n    const [ infoTooltipImage, setInfoTooltipImage ] = React.useState('');\r\n    const [ email, setEmail ] = React.useState('');\r\n    const history = useHistory();\r\n\r\n    const handleTokenCheck = React.useCallback(() => {\r\n        const jwt = localStorage.getItem('token');\r\n        if (jwt) {\r\n            auth.checkToken(jwt)\r\n                .then((res) => {\r\n                    if (res.data) {\r\n                        setLoggedIn(true);\r\n                        setEmail(res.data.email);\r\n                        history.push('/');\r\n                    }\r\n                })\r\n                .catch((err) => {\r\n                    history.push('sign-in');\r\n                    if (err === 400) {\r\n                        console.log(`Ошибка: ${err} - Не передано одно из полей`)\r\n                    } else if (err === 401) {\r\n                        console.log(`Ошибка: ${err} - Пользователь с email не найден`)\r\n                    }\r\n                })\r\n        }\r\n    }, [history]);\r\n    // function handleTokenCheck() {\r\n    //     const jwt = localStorage.getItem('token');\r\n    //     if (jwt) {\r\n    //         auth.checkToken(jwt)\r\n    //             .then((res) => {\r\n    //                 if (res.data) {\r\n    //                     setLoggedIn(true);\r\n    //                     setEmail(res.data.email);\r\n    //                     history.push('/');\r\n    //                 }\r\n    //             })\r\n    //             .catch((err) => {\r\n    //                 history.push('sign-in');\r\n    //                 if (err === 400) {\r\n    //                     console.log(`Ошибка: ${err} - Не передано одно из полей`)\r\n    //                 } else if (err === 401) {\r\n    //                     console.log(`Ошибка: ${err} - Пользователь с email не найден`)\r\n    //                 }\r\n    //             })\r\n    //     }\r\n    // }\r\n\r\n    React.useEffect(() => {\r\n        handleTokenCheck()\r\n    }, [handleTokenCheck]);\r\n\r\n    React.useEffect(() => {\r\n        Promise.all([api.getUserData(), api.getInitialCards()])\r\n            .then((values) => {\r\n                const [userData, initialCards] = values;\r\n                setCurrentUser(userData);\r\n                setCards(initialCards);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err)\r\n            });\r\n    }, []);\r\n\r\n    function handleRegister(data) {\r\n        auth.register(data)\r\n            .then((res) => {\r\n                if (res.data.email) {\r\n                    history.push('/sign-in');\r\n                    setStatus('Вы успешно зарегистрировались!');\r\n                    setInfoTooltipImage(successImage);\r\n                    setInfoTooltipOpen(true);\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                setStatus('Что-то пошло не так!\\n' +\r\n                    'Попробуйте ещё раз.');\r\n                setInfoTooltipImage(errorImage);\r\n                setInfoTooltipOpen(true);\r\n                if (err === 400) {\r\n                    console.log(`Ошибка: ${err} - Некорректно заполнено одно из полей`)\r\n                }\r\n            })\r\n    }\r\n\r\n    function handleLogin(data) {\r\n        auth.login(data)\r\n            .then((res) => {\r\n                if (res.token) {\r\n                    localStorage.setItem('token', res.token);\r\n                    setLoggedIn(true);\r\n                    setEmail(data.email);\r\n                    history.push('/');\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                setStatus('Что-то пошло не так!\\n' + 'Попробуйте ещё раз.');\r\n                setInfoTooltipImage(errorImage);\r\n                setInfoTooltipOpen(true);\r\n                if (err === 400) {\r\n                    console.log(`Ошибка: ${err} - Не передано одно из полей`)\r\n                } else if (err === 401) {\r\n                    console.log(`Ошибка: ${err} - Пользователь с email не найден`)\r\n                }\r\n            })\r\n    }\r\n\r\n    function handleLogout() {\r\n        localStorage.removeItem('token');\r\n        setLoggedIn(false);\r\n        setEmail('');\r\n    }\r\n\r\n\r\n    function handleCardLike(card) {\r\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n        api.changeLikeCardStatus(card._id, isLiked)\r\n            .then((newCard) => {\r\n                const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n                setCards(newCards);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n    function handleCardDeleteClick(card) {\r\n        setIsConfirmPopupOpen(true);\r\n        setRemovedCard(card);\r\n    }\r\n\r\n    function handleCardDelete(card) {\r\n        setIsLoading(true);\r\n        api.deleteCard(card._id)\r\n            .then(() => {\r\n                const newCards = cards.filter((c) => c._id !== card._id);\r\n                setCards(newCards);\r\n                closeAllPopups();\r\n                setIsLoading(false);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n    function handleEditAvatarClick() {\r\n        setIsEditAvatarPopupOpen(true);\r\n    }\r\n\r\n    function handleEditProfileClick() {\r\n        setIsEditProfilePopupOpen(true);\r\n    }\r\n\r\n    function handleAddPlaceClick() {\r\n        setIsAddPlacePopupOpen(true);\r\n    }\r\n    \r\n    function closeAllPopups() {\r\n        setIsEditProfilePopupOpen(false);\r\n        setIsAddPlacePopupOpen(false);\r\n        setIsEditAvatarPopupOpen(false);\r\n        setIsConfirmPopupOpen(false);\r\n        setInfoTooltipOpen(false);\r\n        setSelectedCard({});\r\n        setInfoTooltipImage('');\r\n        setStatus('');\r\n    }\r\n\r\n    function handleEscClose(evt) {\r\n        if (evt.key === 'Escape') {\r\n            closeAllPopups();\r\n        }\r\n    }\r\n    \r\n    function handleOverlayClose(evt) {\r\n        if (evt.target.classList.contains('popup')) {\r\n            closeAllPopups();\r\n        }\r\n    }\r\n\r\n    function handleUpdateUser(currentUser) {\r\n        setIsLoading(true);\r\n        api.editUserData(currentUser)\r\n            .then((data) => {\r\n                setCurrentUser(data);\r\n                setIsLoading(false);\r\n                closeAllPopups();\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n    function handleUpdateAvatar(data) {\r\n        setIsLoading(true);\r\n        api.changeUserAvatar(data)\r\n            .then((userData) => {\r\n                setCurrentUser(userData);\r\n                setIsLoading(false);\r\n                closeAllPopups();\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n    function handleAddPlaceSubmit({ name, link }) {\r\n        setIsLoading(true);\r\n        api.postNewCard({ name, link })\r\n            .then((newCard) => {\r\n                setCards([newCard, ...cards]);\r\n                setIsLoading(false);\r\n                closeAllPopups();\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        document.addEventListener('keydown', handleEscClose);\r\n        document.addEventListener('mouseup', handleOverlayClose);\r\n        return () => {\r\n            document.removeEventListener('keydown', handleEscClose);\r\n            document.removeEventListener('mouseup', handleOverlayClose);\r\n        }\r\n    });\r\n\r\n  return (\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n          <div className=\"page\">\r\n              <div className=\"page__container\">\r\n                  <Header loggedIn={loggedIn} email={email} onLogout={handleLogout}/>\r\n                  <Switch>\r\n                      <Route path=\"/sign-in\">\r\n                          <Login onLogin={handleLogin}/>\r\n                      </Route>\r\n\r\n                      <Route path=\"/sign-up\">\r\n                          <Register onRegister={handleRegister}/>\r\n                      </Route>\r\n\r\n                      <ProtectedRoute\r\n                          exact path=\"/\"\r\n                          component={Main}\r\n                          loggedIn={loggedIn}\r\n                          onEditProfile={handleEditProfileClick}\r\n                          onAddPlace={handleAddPlaceClick}\r\n                          onEditAvatar={handleEditAvatarClick}\r\n                          onCardClick={setSelectedCard}\r\n                          cards={cards}\r\n                          onCardLike={handleCardLike}\r\n                          onCardDelete={handleCardDeleteClick}\r\n                      />\r\n                  </Switch>\r\n                  <Footer loggedIn={loggedIn} />\r\n\r\n\r\n                  <EditProfilePopup\r\n                      isOpen={isEditProfilePopupOpen}\r\n                      onClose={closeAllPopups}\r\n                      onUpdateUser={handleUpdateUser}\r\n                      isLoading={isLoading}\r\n                  />\r\n\r\n                  <EditAvatarPopup\r\n                      isOpen={isEditAvatarPopupOpen}\r\n                      onClose={closeAllPopups}\r\n                      onUpdateAvatar={handleUpdateAvatar}\r\n                      isLoading={isLoading}\r\n                  />\r\n\r\n                  <AddPlacePopup\r\n                      isOpen={isAddPlacePopupOpen}\r\n                      onClose={closeAllPopups}\r\n                      onAddPlace={handleAddPlaceSubmit}\r\n                      isLoading={isLoading}\r\n                  />\r\n\r\n                  <ConfirmPopup\r\n                      isOpen={isConfirmPopupOpen}\r\n                      onClose={closeAllPopups}\r\n                      onConfirm={handleCardDelete}\r\n                      card={removedCard}\r\n                      isLoading={isLoading}\r\n                  />\r\n\r\n                  <ImagePopup\r\n                      card={selectedCard}\r\n                      onClose={closeAllPopups}\r\n                  />\r\n\r\n                  <InfoTooltip\r\n                      isOpen={isInfoTooltipOpen}\r\n                      onClose={closeAllPopups}\r\n                      image={infoTooltipImage}\r\n                      title={status}\r\n                  />\r\n              </div>\r\n          </div>\r\n      </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n      <BrowserRouter>\r\n          <App />\r\n      </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}